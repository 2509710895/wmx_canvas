<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <canvas id="c1" width="800" height="600"></canvas>
    <script>
        const c1 = document.getElementById('c1');
        const ctx=c1.getContext('2d');

        function render() {
            ctx.clearRect(0, 0, 800, 600)
            ctx.save()
            ctx.translate(400, 300)
            ctx.rotate(-Math.PI / 2)

            ctx.save()
            for (let i = 0; i < 12; i++) {
                ctx.beginPath()
                ctx.moveTo(170, 0)
                ctx.lineTo(200, 0)
                ctx.lineWidth = 10
                ctx.strokeStyle = 'gray'
                ctx.stroke()
                ctx.closePath()
                ctx.rotate(Math.PI / 6)
            }
            ctx.restore()

            ctx.save()
            for (let i = 0; i < 60; i++) {
                ctx.beginPath()
                ctx.moveTo(185, 0)
                ctx.lineTo(200, 0)
                ctx.lineWidth = 2
                ctx.strokeStyle = 'gray'
                ctx.stroke()
                ctx.closePath()
                ctx.rotate(Math.PI / 30)
            }
            ctx.restore()

            const time = new Date()
            const h = time.getHours() >= 12 ? time.getHours() - 12 : time.getHours()
            const m = time.getMinutes()
            const s = time.getSeconds()

            ctx.save()
            // 绘制秒针
            ctx.beginPath()
            ctx.rotate(Math.PI / 30 * s)
            ctx.moveTo(-28, 0)
            ctx.lineTo(150, 0)
            ctx.lineWidth = 2
            ctx.strokeStyle = 'red'
            ctx.stroke()
            ctx.closePath()
            ctx.restore()

            ctx.save()
            // 绘制分针
            ctx.beginPath()
            ctx.rotate(Math.PI / 30 * m + (Math.PI / 30 / 60 * s))
            ctx.moveTo(-20, 0)
            ctx.lineTo(120, 0)
            ctx.lineWidth = 4
            ctx.strokeStyle = 'blue'
            ctx.stroke()
            ctx.closePath()
            ctx.restore()

            ctx.save()
            // 绘制时针
            ctx.beginPath()
            ctx.rotate(Math.PI / 6 * h + (Math.PI / 6 / 60 * m) + (Math.PI / 6 / 60 / 60 * s))
            ctx.moveTo(-16, 0)
            ctx.lineTo(90, 0)
            ctx.lineWidth = 8
            ctx.strokeStyle = 'black'
            ctx.stroke()
            ctx.closePath()
            ctx.restore()

            ctx.restore()

            requestAnimationFrame(render)
        }

        render()


    </script>
</body>
</html>